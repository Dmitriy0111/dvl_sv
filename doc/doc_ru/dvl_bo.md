# dvv_bo (base object)

Данный файл содержит описание базового объекта верификационных компонентов.

Заголовок:
```Verilog
class dvv_bo;
```

## Поля и функции/задачи класса 

### Поля:
| Имя          | Тип           | Описание                                                        |
| ------------ | ------------- | --------------------------------------------------------------- |
| name         | string        | Имя экземпляра класса                                           |
| fname        | string        | Полное имя экземпляра класса с указанием иерархического пути    |
| run_drop     | static int    | Счётчик компонентов задающих симуляцию                          |
| parent       | dvv_bo        | Указатель на экземпляр класса родителя                          |
| level        | int           | Иерархический уровень экземпляра класса                         |
| fp           | static int    | Указатель на файл для записи отчётов общий для всех классов     |
| write2file   | bit           | Разрешение или запрет записи в файл отчёта                      |
| write2stdout | bit           | Разрешение или запрет записи в терминал                         |
| type_names   | static dvv_bo | Очередь содержащая типы всех классов участвующих в тестировании |

#### Значение некоторых полей:

| Поле      | Значение  |
| --------- | --------- |
| type_name | "dvv_bo"  |

### Функции/задачи:
| Имя          | Описание                                                              |
| ------------ | --------------------------------------------------------------------- |
| new          | Конструктор класса                                                    |
| file_write   | Задача для записи сообщения/отчёта в файл                             |
| stdout_write | Задача для записи сообщения/отчёта в терминал                         |
| print        | Задача вызывающая file_write и stdout_write в зависимости от настроек |
| raise        | Задача увеличивающая счётчик run_drop                                 |
| drop         | Задача уменьшающая счётчик run_drop                                   |

### Описание функций/задач:

#### new
Конструктор класса для создания экземпляра dvv_ap.

Заголовок:
```Verilog
function new(string name = "", dvv_bo parent = null);
```

Аргументы:
| Имя       | Тип       | Описание                  |
| --------- | --------- | ------------------------- |
| name      | string    | Имя компонента            |
| parent    | dvv_bo    | Экземпляр родителя класса |

#### file_write
Задача используемая для записи сообщения/отчёта в файл.

Заголовок:
```Verilog
task file_write(string msg);
```

Аргументы:
| Имя   | Тип       | Описание                      |
| ----- | --------- | ----------------------------- |
| msg   | string    | Сообщение подлежащее записи   |

#### stdout_write
Задача используемая для записи сообщения/отчёта в терминал.

Заголовок:
```Verilog
task stdout_write(string msg);
```

Аргументы:
| Имя   | Тип       | Описание                      |
| ----- | --------- | ----------------------------- |
| msg   | string    | Сообщение подлежащее записи   |

#### print
Задача вызывающая file_write и stdout_write в зависимости от переменных write2file и write2stdout.

Заголовок:
```Verilog
task print(string msg = "");
```

Аргументы:
| Имя   | Тип       | Описание                      |
| ----- | --------- | ----------------------------- |
| msg   | string    | Сообщение подлежащее выводу   |

#### raise
Задача увеличивающая счётчик run_drop. Используется для блокировки завершения фазы run_phase. Если ни один верификационный компонент не вызовет функцию raise, то тест завершится и произойдёт выполнение фаз clean_up и report.

Заголовок:
```Verilog
task raise();
```

#### drop
Задача увеличивающая счётчик run_drop. Используется для разблокировки завершения фазы run_phase.

Заголовок:
```Verilog
task drop();
```

## Дополнительная информация

Примеры значений некоторых полей
* name = "i2c_monitor"
* fname = "i2c_test.i2c_enviroment.i2c_agent.i2c_monitor"
* level = 3
* type_names = { "i2c_test" : i2c_test , "i2c_enviroment" : i2c_enviroment , "i2c_agent" : i2c_agent , "i2c_monitor" : i2c_monitor , ... }
* parent = i2c_agent

Поле type_names используется для создание верхнего верификационного модуля при вызове функции run_test(). В примере выше верхним верификационным модулем является i2c_test.